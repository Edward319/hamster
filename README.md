# 存货小管家 — 保质期与库存管理

面向家庭的食品与日用消耗品保质期 + 库存管理网页应用，手帐风 UI，小仓鼠管家互动。

## 如何运行（本地预览）

1. 用浏览器直接打开项目里的 **`index.html`** 即可，无需安装任何东西。
2. 或使用本地静态服务器（可选）：
   - 在项目根目录执行：`npx serve .` 或 `python3 -m http.server 8000`
   - 浏览器访问：`http://localhost:8000` 或 `http://localhost:3000`

## 第一版已实现

- **首页**：今日提醒（3 天内即将过期）· 仓鼠贺卡式展示；无临期时显示「今天没有快过期的东西，真棒！」
- **库存管理**：列表（在库/已使用完筛选）、顶部「添加」、一页填完表单、一级/二级品类可输入并自动保存、从已有复制、编辑/删除/标记已使用完、操作后盖章动效
- **报告**：周报（未来 7 天即将过期 + 在库/已使用完数量）、月报（本月新登记、在库、已使用完、登记金额）
- **设置**：提醒周期、通知与数据同步占位
- **数据**：本地 localStorage，刷新不丢失

## 邮件提醒（发送今日报告到邮箱）

1. **部署到 Vercel**（邮件接口需要同源或后端）  
   - 安装 [Vercel CLI](https://vercel.com/docs/cli)：`npm i -g vercel`  
   - 在项目根目录执行：`vercel`，按提示登录并部署。  
   - 部署后会得到一个网址，如 `https://xxx.vercel.app`。

2. **配置 Resend 发信**  
   - 注册 [Resend](https://resend.com)，在 Dashboard 创建 API Key。  
   - 在 Vercel 项目 → Settings → Environment Variables 中添加：  
     - `RESEND_API_KEY`：你的 Resend API Key。  
   - （可选）`RESEND_FROM`：发件人邮箱，如 `存货小管家 <noreply@你的域名.com>`；不填则使用 Resend 默认测试发件人。

3. **使用**  
   - 在「设置」中填写**通知邮箱**。  
   - 在首页点击「发送今日报告到邮箱」，即可把今日提醒 + 货单总结（进货/消耗）发到该邮箱。邮件为信纸风 HTML，含小仓鼠与摘要表格。

**说明**：当前为「手动点击发送」。定时按提醒周期自动发邮件需再增加定时任务（如 Vercel Cron + 需后端能读取用户数据），后续可扩展。

## 项目结构

```
vibecoding/
├── index.html      # 单页结构 + 四栏底部导航 + 表单弹层
├── api/
│   └── send-report.js   # Vercel 云函数：接收报告内容，用 Resend 发邮件
├── css/
│   └── style.css   # 手帐风样式（偏暖色、圆角、便签感）
├── js/
│   ├── data.js     # 数据层：CRUD、品类、临期/货单统计、设置
│   └── app.js      # 视图与交互、发送报告
├── package.json    # 依赖：resend
├── 需求说明.md
├── 设计说明.md
├── 软件开发流程指南.md
└── README.md
```

## 后续计划

- 定时邮件（按设置周期自动发送）
- 可选 Notion 同步
- 替换仓鼠为定制插画/动图
