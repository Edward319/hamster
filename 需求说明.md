# 家庭存货与保质期管理 — 需求说明（第一版）

> 本文档根据你的描述整理，用于指导后续设计和开发。后续若有新想法，可以随时补充到这里。

---

## 一、产品定位（用一句话说清楚）

**一句话：** 面向家庭的食品与日用消耗品保质期 + 库存管理工具，通过记录与提醒减少浪费，并用「小仓鼠管家」让操作有温度、不枯燥。

---

## 二、目标用户与使用场景

| 项目 | 说明 |
|------|------|
| **目标用户** | 家庭主理人、合租/独居者、养宠家庭等，关心「别放过期、别浪费」的人 |
| **典型场景** | 买完东西回家录入；收到「快过期了」提醒后决定先吃/先用；每周/每月看一眼总结，了解买了啥、用了啥、扔了啥 |

---

## 三、核心功能（第一版范围）

### 3.1 货物录入与管理

- **必填信息**
  - **分类（两级、均用户自定义）**
    - **一级品类**：如食品、化妆品、宠物用品、药品等，用户自建、可随时增删
    - **二级品类**：如牛奶、防晒霜、猫粮等，在一级下细分，用户自建、可随时增删  
    这样既便于按大类筛选，又便于精确归类，且不穷举、完全按个人习惯。
  - **品牌名称**：用户知道买的是「哪个品牌的什么产品」，便于复购与统计
  - **数量**：支持数字（如 1 瓶、3 包）
  - **购买日期**
  - **保质期/赏味期**：到期日（「开封后 X 天」可第二版再做）
  - **单位价格**：单件或单单位的购买价格，便于月总结里做「本月花费」等统计
- **可选**：备注（如「放冰箱上层」）
- **操作**
  - **新增、编辑、删除**：删除仅用于「录错了、要抹掉这条记录」的场景
  - **标记为已使用完**：表示物品用完了，但**保留记录**用于统计（月总结里的「用了多少」等），与「删除」区分开
  - 能按一级/二级品类、时间、状态（在库 / 已使用完）筛选查看列表

**为什么先做这些：** 这是所有提醒和报告的基础；「已使用完」和「删除」分开、价格与品牌录入完整，统计才有意义。

---

### 3.2 提醒与使用建议

| 类型 | 说明 | 第一版是否做 |
|------|------|--------------|
| **临期提醒** | 某件货品快到期（如 3 天内）时提醒 | ✅ 做 |
| **周维度** | 未来一周内即将过期的货品列表/提醒 | ✅ 做 |
| **月维度** | 当月「购货与使用」总结（买了多少、用了多少、过期了多少等） | ✅ 做（可先做简化版） |

**通知方式（必须做主动触达，不做「仅应用内提醒」）：**  
本应用不是高频打开型，**必须**在「用户不打开应用」的情况下也能收到提醒。第一版**必须实现**以下之一或两者兼备：

- **定时邮件提醒**：在用户设定的时间（如每天早 8 点）检查临期/周报/月报，并自动发送邮件到用户邮箱。
- **条件触发自动提醒**：满足条件时自动发邮件（如「有货品进入 3 天内过期」时当日发一封临期提醒邮件）。

邮件内容为**精美信纸/动画风格**（类似传统银行给高端客户的信用卡账单信函），附上小仓鼠管家与摘要。实现上采用免费额度的邮件服务 + 轻量后端（定时任务或条件触发），成本可控。应用内仍保留「提醒列表/报告页」供主动查看。

---

### 3.3 界面与体验要求（你的原话整理）

- **不要像数据库/Excel**：界面要像「日常用的 App」，有卡片、图标、留白，而不是密密麻麻的表格。
- **设计风格倾向手帐类 UI**：视觉与交互可参考**手帐/手账**风格——如纸质感、便签/胶带元素、柔和配色、圆角与手写感字体等，让使用时有「在记手帐」的亲切感，而不是冷冰冰的工具感。
- **虚拟形象「小仓鼠管家」**  
  - 在录入、生成报告、收到提醒等关键步骤出现。  
  - 能有一点**画面互动感**（例如：录入成功时小仓鼠点头/撒花；生成月报时小仓鼠举着报告；提醒时小仓鼠举牌等）。
- **整体风格**：温暖、友好、有生活感，与手帐风统一。

**为什么单独写这一条：** UI/体验会直接影响你愿不愿意每天用，所以从第一版就按「手帐风 + 有角色、有互动」来设计。

---

## 四、第一版「不做」什么（避免范围膨胀）

以下留给后续版本，第一版不实现：

- 多用户/家庭共享（第一版为单人使用；若用 Notion 同步，数据在用户自己的 Notion 空间，天然「自己的」）
- 扫码录入、语音录入
- 「开封后 X 天」这种复杂保质期规则
- 依赖「只有打开应用才能看到」的应用内提醒作为主通知方式（第一版必须做定时或条件触发的邮件提醒）
- 复杂的报表图表（先做「周/月文字+数字总结」）

---

## 五、技术形态建议：先做网页版，再考虑 App

### 5.1 你的顾虑与目标

- 想做成**手机 App**，但零基础、希望**开发成本可控（最好免费）**。
- 需要先验证想法，再决定是否投入更多。

### 5.2 建议：第一版先做「网页应用」

| 对比项 | 网页版（先做） | 原生手机 App |
|--------|----------------|---------------|
| **开发成本** | 免费：用浏览器即可开发、调试，部署可用免费静态托管 | 需要 Mac + 开发者账号（iOS）或 Android 环境，有学习与可能的年费 |
| **学习曲线** | 一套技术（HTML/CSS/JS）即可，我可以一步步带你写 | 要区分 iOS/Android 或学跨平台框架，零基础会吃力 |
| **使用方式** | 手机浏览器打开网址即可用，可「添加到主屏幕」像 App 一样点开 | 需要上架应用商店或自签安装，流程更复杂 |
| **数据与通知** | 数据可存浏览器本地或可选 Notion；通知以**邮件提醒**为主（可做精美信纸风格），不依赖用户打开应用 | 天然支持推送，但开发与上架成本高 |
| **后续升级** | 同一套网页可做成 PWA，或以后用跨平台方案「包」成 App | 若先做 App，以后要维护两套或三端 |

**结论：**  
第一版用**网页应用**实现全部核心功能（录入、临期/周/月提醒与总结、小仓鼠管家 UI），在手机浏览器里使用；成本低、可随时改、你能快速看到效果。等用顺了、确认需求稳定，再考虑「封装成 App」或「做真正的原生 App」会更划算。

### 5.3 数据存储：本地 vs Notion 同步（避免占本地空间、支持多端同步）

你希望避免本地占用空间、并能有同步能力。可选方案如下：

- **方案 A：仅本地（浏览器）**  
  数据存在当前设备的浏览器里。优点：零配置、完全免费、无账号。缺点：换设备或清缓存会丢数据；无多端同步。

- **方案 B：使用 Notion 等现有在线工具同步（推荐作为可选能力）**  
  - **方式**：用户使用自己的 Notion 账户；在 Notion 里创建一个「存货数据库」（或使用我们提供的模板页），通过 **Notion Integration** 把该数据库授权给我们的应用；应用只读写用户自己的这个数据库，实现增删改查与同步。  
  - **成本**：Notion 对个人免费，API 调用也在免费额度内；我们方只需一个轻量后端（与邮件、定时任务共用同一套云函数即可）做「代理请求」，因为浏览器直接调 Notion API 有跨域限制。整体仍可**零额外金钱成本**，开发量适中（需做 Notion 数据结构与咱们「货物」模型的映射、以及一个简单的授权/配置页让用户填 Integration Token 或选数据库）。  
  - **优点**：数据在用户自己的 Notion 里，不占本地空间；多设备、甚至直接在 Notion 里查看/编辑均可；用户已有 Notion 习惯的话体验统一。  

第一版可**同时支持**：默认本地存储（免配置），可选「绑定 Notion」后改为从 Notion 读写在库/已使用完等数据；邮件提醒与定时任务读取的也是当前选用的数据源（本地或 Notion）。

### 5.4 第一版技术选型（简要，给你心里有数）

- **前端**：HTML + CSS + JavaScript，**UI 按手帐风格**设计（纸质感、便签元素、柔和配色等），便于你理解每一块在干什么。
- **数据**：支持 (1) 本地（localStorage/IndexedDB）；(2) 可选 Notion 同步（用户自建数据库 + Integration 授权，我们读写其数据库）。邮件与定时任务需轻量后端，可与 Notion 代理共用。
- **邮件提醒**：**必须**实现定时或条件触发的邮件；免费额度邮件 API + 后端定时/触发逻辑；邮件模板为信纸风格、小仓鼠插图。
- **部署**：前端 + 云函数（邮件、定时、可选 Notion 代理）可放在 Vercel/Netlify 等免费平台，一个链接即可在手机打开。
- **小仓鼠管家**：插画/动图 + 手帐风界面；在关键操作与邮件中统一出现。

这些在后续「设计」阶段会再细化；你不需要会写代码，只需知道：我们选的是**成本可控（免费为主）、可选 Notion 以解决本地与同步顾虑**的方案。

---

## 六、第一版验收标准（做到这些就算第一版完成）

1. 能在手机或电脑浏览器中打开应用，界面为**手帐风格**，有基础排版和「小仓鼠」形象，不像表格。
2. 能录入货物：**物品名称**（必填）、**一级品类 + 二级品类**（均用户自定义）、**品牌名称**、**单位价格**、数量、购买日期、保质期/赏味期；能编辑、**删除**（仅用于录错）、**标记为已使用完**（保留记录用于统计）；能按一级/二级品类、时间、状态筛选。
3. **数据存储**：至少支持本地存储；可选支持 **Notion 同步**（用户授权自己的 Notion 数据库，数据在 Notion 中，不占本地且可多端同步）。
4. 有一个「提醒/即将过期」视图：至少能看到「3 天内过期」和「本周内过期」的货品。
5. 有简单的「周维度」视图与「月维度」总结（当月录入、已使用完、过期、花费等），小仓鼠出现在报告/总结画面中。
6. **邮件提醒（必须）**：**定时**和/或**条件触发**自动发邮件（如每日定时、或临期条件触发），信纸风格、含小仓鼠与摘要，不依赖用户打开应用。
7. 在录入成功、打开报告、看到提醒等关键节点，小仓鼠有不同状态或文案，让人感觉有互动。

---

## 七、下一步：界面与流程设计

接下来我会为你做两件事：

1. **简单信息架构**：画出「有哪些页面、点哪里进哪里」的草图说明。  
2. **小仓鼠管家**：在哪些画面出现、每个画面下是什么动作/文案，保证第一版就有「互动感」而不只是表格。

你确认这份需求说明没有漏掉或曲解你的想法后，我们就进入**设计阶段**（不写代码，先定界面和流程）。

---

---

## 规划备忘：数据同步与零成本

- **未来会开发 Notion 数据同步**：由**各自用户**在设置里连接**自己的** Notion（授权、填数据库 ID 等），应用只调用该用户的 Notion API 读写其自己的数据，不在我们服务器存用户数据，因此**同样实现 0 成本**（无需自建数据库，Notion 免费版即可）。当前阶段先以 localStorage + 部署上线为主，Notion 同步作为后续迭代。

---

*文档版本：v1.2 | 更新：品类改为一级/二级（均用户自定义）；必填增加品牌、单位价格；通知必须做定时或条件触发邮件；数据可选 Notion 同步（成本低）；UI 倾向手帐风格。规划：Notion 同步调用各自用户数据，保持零成本。*
